# Easy Technical Fixes Analysis - Issues #5400-5600

This analysis identifies genuinely easy technical fixes for new contributors in the Actual Budget repository, focusing on issues #5400-5600 range.

## Issue #5547: Tag names are difficult to read in dark mode when using bright background colors
**Priority: ⭐⭐⭐ (Very Easy)**  
**Labels:** bug, help wanted, user interface

### Problem
In dark mode, tags with bright background colors show white text that is difficult to read against bright backgrounds, lacking proper contrast logic.

### Reproduction Steps
1. Enable dark mode in Actual
2. Create a tag with a bright background color (yellow, white, etc.)
3. Notice the tag text is white and difficult to read

### Technical Analysis
- **File affected:** `packages/desktop-client/src/style/tags.ts:45-46`
- **Current code:** `return [themeStyle.noteTagText, color ?? themeStyle.noteTagBackground, ...]`
- **Issue:** In dark mode, text color is always `themeStyle.noteTagText` (white) regardless of background brightness

### Solution
```typescript
// Before
} else {
  return [
    themeStyle.noteTagText,
    color ?? themeStyle.noteTagBackground,
    color
      ? `color-mix(in srgb, ${color} 85%, white)`
      : themeStyle.noteTagBackgroundHover,
  ];
}

// After  
} else {
  // Calculate text color based on background brightness
  const textColor = color && isBrightColor(color) 
    ? '#000000' // Black text for bright backgrounds
    : themeStyle.noteTagText; // White text for dark backgrounds
    
  return [
    textColor,
    color ?? themeStyle.noteTagBackground,
    color
      ? `color-mix(in srgb, ${color} 85%, white)`
      : themeStyle.noteTagBackgroundHover,
  ];
}
```

### Verification
- Create tags with bright colors (yellow, light blue, white) in dark mode
- Verify text is black and readable
- Create tags with dark colors (navy, black, purple) in dark mode  
- Verify text remains white and readable

### Code Areas Affected
- `packages/desktop-client/src/style/tags.ts`
- Need to add `isBrightColor` helper function for luminance calculation

### Complexity Rating: 3/10
- Single function modification with brightness calculation
- Need to add color luminance helper function
- Clear existing pattern in light mode to follow
- Low regression risk (only affects dark mode tag text)

---

## Issue #5525: shift click doesn't return the correct totals on the register
**Priority: ⭐⭐ (Easy)**  
**Labels:** bug, help wanted, transactions, user interface

### Problem
When using shift+click to select multiple transactions containing splits, the selected balance incorrectly includes parent transaction amounts along with child split amounts, leading to double-counting.

### Reproduction Steps
1. Create transactions with splits
2. Use shift+click to select multiple transactions including split transactions
3. Notice the "Selected balance" is incorrect (higher than expected)

### Technical Analysis
- **File affected:** `packages/desktop-client/src/components/accounts/Balance.tsx:70-88`
- **Current code:** Query filters for both `id: { $oneof: [...selectedItems] }` and `parent_id: { $oneof: [...selectedItems] }`
- **Issue:** This includes both parent transactions and their splits in the same calculation

### Solution
```typescript
// Before
const rows = useSheetValue<'balance', `selected-transactions-${string}`>({
  name: name as `selected-transactions-${string}`,
  query: q('transactions')
    .filter({
      id: { $oneof: [...selectedItems] },
      parent_id: { $oneof: [...selectedItems] },
    })
    .select('id'),
});

// After
const rows = useSheetValue<'balance', `selected-transactions-${string}`>({
  name: name as `selected-transactions-${string}`,
  query: q('transactions')
    .filter({
      parent_id: { $oneof: [...selectedItems] },
    })
    .select('id'),
});
```

### Verification
- Select transactions with splits using shift+click
- Verify "Selected balance" shows correct amount (only split amounts, not parent)
- Test with mixed selection of split and non-split transactions
- Verify count shows correct number of transactions

### Code Areas Affected
- `packages/desktop-client/src/components/accounts/Balance.tsx`

### Complexity Rating: 4/10
- Requires understanding transaction/split relationship
- Simple query filter change but needs testing with various scenarios
- Potential for regression if logic is more complex than apparent

---

## Issues Analyzed but Dismissed as Too Complex

### Issue #5560: Automatic scrolling on mobile makes it hard to fill out split transactions
**Dismissal Reason:** Involves complex mobile scroll behavior and useEffect timing. The automatic scroll to zero-amount splits interferes with user interaction patterns. Requires understanding mobile viewport behavior and potential race conditions.

### Issue #5559: Missing Translation Flag in ConfirmTransactionDeleteModal  
**Dismissal Reason:** Already analyzed in existing analysis file `easy-fixes-analysis-#5400-5600.md`.

### Issue #5476: Crash when filtering by amount, then changing the filter condition
**Dismissal Reason:** Already has active PR and involves complex locale number parsing logic with 8+ comments indicating complexity.

### Issue #5413: All Accounts totals do not match when a closed account has a balance
**Dismissal Reason:** Requires business logic decisions about closed account behavior and multiple UI component changes.

---

## Summary

### Priority Order for New Contributors
1. **Issue #5547** - Tag text contrast in dark mode (Complexity: 3/10)
   - Clear visual problem with straightforward solution
   - Involves color contrast calculation - good learning opportunity
   - Easy to test and verify

2. **Issue #5525** - Split transaction selection totals (Complexity: 4/10)
   - Database query logic understanding required
   - Clear reproduction steps and expected behavior
   - Good introduction to transaction/split relationships

### Development Approach Recommendations
- Start with #5547 to learn color contrast patterns and CSS-in-JS
- Move to #5525 to understand transaction querying and data relationships
- Both issues have clear before/after states for verification

### Why These Issues Are Ideal for Learning
- **Clear problem identification**: Both have obvious reproduction steps
- **Established patterns**: Light mode color logic exists for #5547
- **Immediate feedback**: Visual changes are easy to verify
- **Low architectural impact**: Focused changes with minimal system interaction
- **Good documentation**: Clear issue descriptions with expected behavior

The analysis found 2 genuinely easy issues in the #5400-5600 range. This demonstrates the workflow's effectiveness at filtering for truly approachable problems while maintaining quality standards.